<script th:inline="javascript">
  /*<![CDATA[*/
  let selectedDeck = 0;
  let editor;
  var robotInfos = /*[[${robotInfos}]]*/ [];
  var codeOfFirstRobot = 'defaultCode'; // 기본 코드 설정
  if (robotInfos.length > 0) {
      codeOfFirstRobot = robotInfos[0].code; // 0번 인덱스의 코드로 설정
  }

  require.config({ paths: { 'vs': 'https://unpkg.com/monaco-editor@latest/min/vs' } });
  require(["vs/editor/editor.main"], function () {
    editor = monaco.editor.create(document.getElementById('container-body'), {
      value: codeOfFirstRobot,
      language: 'java',
      theme: 'vs-dark',
      automaticLayout: true,
      fontSize: 20
    });
  });
  /*]]>*/

    function getEditorValue() {
        if (editor) {
            const content = editor.getValue();
        alert(content); // Display the content, you can do whatever you want with it
        return content;
        }
}

    function code_check(result, status, index ,code) {
        const terminal = document.getElementById('terminal');
        if (result != 0) {
            terminal.innerHTML = `<span style="font-weight: bold; color: red;" > ${status}: </span> <span style="font-weight: bold; color: red;">${result}</span>`;
        }
        else {
            terminal.innerHTML = `<span style="font-weightL bold; color: green;" > ${status}: </span> <span style="font-weight: bold; color: green;"${result}</span>`;
            robotInfos[index] = code;
        }
}


    function selectDeckIndex(deckId) {
        selectedDeck = deckId;
        if(robotInfos[selectedDeck]){
            editorLobby.setValue(robotInfos[selectedDeck].code)
            console.log(selectedDeck);
        } else {
            console.log('No robot info found for selected deck.')
        }
}
</script>
